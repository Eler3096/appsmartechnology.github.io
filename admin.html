<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>AppsMart Admin</title>
  <link rel="stylesheet" href="admin.css">

  <style>
    /* ‚úîÔ∏è ESTILO PARA EL CUADRO UNIFICADO */
    .file-box {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      background: #fff;
      box-sizing: border-box;
    }
  </style>
</head>

<body>

<div class="admin-container">

  <!-- HEADER -->
  <header class="admin-header">

    <div class="admin-header-left">
      <h1><span class="icon">‚öôÔ∏è</span> AppsMart Admin</h1>
      <p>Subir, editar y manejar aplicaciones</p>
    </div>

    <button class="btn-logout" onclick="logout()">Cerrar sesi√≥n</button>

  </header>

  <!-- MAIN -->
  <div class="admin-main">

    <!-- =======================================================
         FORMULARIO (IZQUIERDA)
    ======================================================= -->
    <div class="form-area">

      <!-- T√çTULO + BOT√ìN A LA DERECHA -->
      <div class="form-title-row">
        <h3 class="panel-section-title" id="formTitle">‚ûï Nueva Aplicaci√≥n</h3>

        <button id="subirBtn" class="btn-primary" onclick="guardarApp()">SUBIR APP</button>
      </div>

      <p class="status-text" id="estado"></p>

      <!-- FORM-CARD -->
      <div class="form-card">
        <div class="form-main-fields">

          <div class="form-group">
            <label>Nombre</label>
            <input id="nombre" type="text">
          </div>

          <div class="form-group">
            <label>Tama√±o de la App (MB/GB)</label>
            <input id="size" type="text">
          </div>

          <div class="form-group">
            <label>Categor√≠a</label>
            <select id="categoria">
              <option>Educaci√≥n</option>
              <option>Libros</option>
              <option>Juegos</option>
              <option>Sociales</option>
              <option>Herramientas</option>
              <option>Entretenimiento</option>
              <option>M√∫sica y Audio</option>
              <option>Fotograf√≠a y Video</option>
              <option>Productividad</option>
            </select>
          </div>

          <div class="form-group">
            <label>Descripci√≥n</label>
            <textarea id="descripcion"></textarea>
          </div>

          <div class="form-group">
            <label>Fecha de actualizaci√≥n</label>
            <input id="fechaAct" type="date">
          </div>

          <div class="form-group">
            <label>Tipo</label>
            <select id="tipo">
              <option>Gratis</option>
              <option>Pagada</option>
            </select>
          </div>

          <div class="form-group">
            <label>Versi√≥n</label>
            <input id="version" type="text">
          </div>

          <div class="form-group">
            <label>Pol√≠tica de privacidad (URL)</label>
            <input id="privacidad" type="text">
          </div>

          <div class="form-group">
            <label>Conexi√≥n</label>
            <select id="internet">
              <option value="offline">Funciona sin Internet</option>
              <option value="online">Requiere Internet</option>
            </select>
          </div>

          <div class="form-group">
            <label>Sistema Operativo</label>
            <input id="sistema" type="text">
          </div>

          <div class="form-group">
            <label>URL Imagen Principal</label>
            <input id="imagenUrl" type="text">
          </div>

          <div class="form-group">
            <label>¬øContiene anuncios?</label>
            <select id="anuncios">
              <option value="si">S√≠ contiene</option>
              <option value="no">No contiene</option>
            </select>
          </div>

          <div class="form-group">
            <label>Requisitos del sistema</label>
            <input id="requisitos" type="text">
          </div>

          <div class="form-group">
            <label>URLs de Capturas</label>
            <input id="capturasUrl" type="text">
          </div>

          <!-- üìå Capturas secundarias (CORREGIDO) -->
          <div class="form-group">
            <label>Capturas secundarias</label>
            <input id="capturas" type="file" accept="image/*" multiple class="file-box">
          </div>

          <div class="form-group">
            <label>Edad recomendada</label>
            <input id="edad" type="text">
          </div>

          <div class="form-group">
            <label>URL del Icono</label>
            <input id="iconoUrl" type="text">
          </div>

          <!-- üìå APK (CORREGIDO) -->
          <div class="form-group">
            <label>APK (subir nueva)</label>
            <input id="apk" type="file" accept=".apk" class="file-box">
          </div>

          <div class="form-group">
            <label>Idioma</label>
            <input id="idioma" type="text">
          </div>

          <div class="form-group">
            <label>URL del APK</label>
            <input id="apkUrl" type="text">
          </div>

          <!-- üìå Imagen (CORREGIDO) -->
          <div class="form-group">
            <label>Imagen</label>
            <input id="imagen" type="file" accept="image/*" class="file-box">
          </div>

        </div>
      </div>
    </div>

    <!-- =======================================================
         SIDEBAR APPS (DERECHA)
    ======================================================= -->
    <aside class="apps-sidebar">

      <div class="sidebar-header">
        <h3 class="panel-section-title">üì¶ Aplicaciones Publicadas</h3>
        <input id="searchInput" type="search" placeholder="üîç Buscar por nombre...">
      </div>

      <div id="appsListWrap" class="apps-list-wrap">

        <table class="apps-table">
          <thead>
            <tr>
              <th>Icono</th>
              <th>Nombre</th>
              <th>Categor√≠a</th>
              <th>Versi√≥n</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="appsList"></tbody>
        </table>

        <div id="loadingMore" class="loading-more hidden">Cargando m√°s apps...</div>
        <div id="noMore" class="no-more hidden">No hay m√°s apps</div>
      </div>

    </aside>

  </div>

</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>

<script src="firebase.js"></script>
<script src="admin.js"></script>

</body>
</html>
